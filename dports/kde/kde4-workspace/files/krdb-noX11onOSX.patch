--- kcontrol/krdb/orig.krdb.cpp	2014-09-18 19:24:43.000000000 +0200
+++ kcontrol/krdb/krdb.cpp	2014-09-18 20:20:36.000000000 +0200
@@ -517,6 +517,7 @@
 
     if( cfgfonts.readEntry( "forceFontDPI", 0 ) != 0 )
       contents += "Xft.dpi: " + cfgfonts.readEntry( "forceFontDPI" ) + '\n';
+#ifdef Q_WS_X11
     else
     {
       KProcess proc;
@@ -529,6 +530,7 @@
         proc.waitForFinished();
       }
     }
+#endif // Q_WS_X11
   }
 
   if (contents.length() > 0)
@@ -536,13 +538,15 @@
 
   tmpFile.flush();
 
+#ifdef Q_WS_X11
   KProcess proc;
-#ifndef NDEBUG
+#   ifndef NDEBUG
   proc << "xrdb" << "-merge" << tmpFile.fileName();
-#else
+#   else
   proc << "xrdb" << "-quiet" << "-merge" << tmpFile.fileName();
-#endif
+#   endif
   proc.execute();
+#endif // Q_WS_X11
 
   applyGtkStyles(exportColors, 1);
   applyGtkStyles(exportColors, 2);

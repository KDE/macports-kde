diff --git a/cmake/modules/KDE4Macros.cmake b/cmake/modules/KDE4Macros.cmake
index f519181..bde7cfe 100644
--- a/cmake/modules/KDE4Macros.cmake
+++ b/cmake/modules/KDE4Macros.cmake
@@ -829,9 +829,9 @@ macro (KDE4_ADD_KDEINIT_EXECUTABLE _target_NAME )
 
       if (Q_WS_MAC)
 	      list(FIND _SRCS *.icns _icon_position)
-	      if(NOT _res_position EQUAL -1)
+	      if(NOT _icon_position EQUAL -1)
 		      list(GET _SRCS ${_icon_position} _resourcefile)
-	      endif(NOT _res_position EQUAL -1)
+	      endif(NOT _icon_position EQUAL -1)
       endif (Q_WS_MAC)
       kde4_add_executable(${_target_NAME} "${_nogui}" ${CMAKE_CURRENT_BINARY_DIR}/${_target_NAME}_dummy.cpp ${_resourcefile})
       target_link_libraries(${_target_NAME} kdeinit_${_target_NAME})

# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id:$

PortSystem          1.0
PortGroup           compiler_blacklist_versions 1.0

PortGroup           qmake5  1.0
PortGroup           github 1.0

github.setup        tux3 qtox 1ec67cb

name                qTox
version             0.0.0-20141124
categories          security chat
maintainers         mk

license             GPL-3
description         Powerful Tox client that follows the Tox design guidelines, formerly called toxgui.
long_description    ${description}
homepage            https://github.com/tux3/qTox

platform darwin {
   pre-configure {
      if {${configure.cxx_stdlib} eq "libstdc++"} {
         ui_error "${port} is not supported for this installation of MacPorts.  It requires libc++ be selected as your C++ runtime."
         error "unsupported configuration"
      }
   }
}

checksums           rmd160  09bd3c84dd4076f64a88742bf66317af3f883f3c \
                    sha256  205cd73a560817b3dcce53559c19360c810e37eeef14d25849483cab8b6c7bda

worksrcdir          ${github.author}-${name}-${github.version}

depends_lib-append  port:opencv \
                    port:openal \
                    port:toxcore

# configure checks that we're clang 3.2, gcc 4.7, or better
compiler.blacklist-append gcc-3.3 gcc-4.0 apple-gcc-4.0 gcc-4.2 apple-gcc-4.2 llvm-gcc-4.2 macports-llvm-gcc-4.2
compiler.blacklist-append macports-gcc-4.2 macports-gcc-4.3 macports-gcc-4.4 macports-gcc-4.5 macports-gcc-4.6
compiler.blacklist-append {clang < 425} macports-clang-2.9 macports-clang-3.0 macports-clang-3.1

livecheck.type      none
